
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>pyDeltaRCM.model.DeltaModel &#8212; pyDeltaRCM 1.2.0 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Defaul Model Variable Values" href="../reference/model/yaml_defaults.html" />
    <link rel="prev" title="model" href="../reference/model/index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../reference/model/yaml_defaults.html" title="Defaul Model Variable Values"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../reference/model/index.html" title="model"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyDeltaRCM 1.2.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference/index.html" >API reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../reference/model/index.html" accesskey="U">model</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="../reference/model/index.html"
                        title="previous chapter">model</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../reference/model/yaml_defaults.html"
                        title="next chapter">Defaul Model Variable Values</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/_autosummary/pyDeltaRCM.model.DeltaModel.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pydeltarcm-model-deltamodel">
<h1>pyDeltaRCM.model.DeltaModel<a class="headerlink" href="#pydeltarcm-model-deltamodel" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pyDeltaRCM.model.DeltaModel">
<em class="property">class </em><code class="descclassname">pyDeltaRCM.model.</code><code class="descname">DeltaModel</code><span class="sig-paren">(</span><em>input_file=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Main model class.</p>
<p>Instantiating the model class is described in the <a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.__init__" title="pyDeltaRCM.model.DeltaModel.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> method
below in detail, but generally model instantiation occurs via a model run
YAML configuration file. These YAML configuration files define model
parameters which are used in the run; read more about creating input YAML
configuration files in the <a class="reference internal" href="../guides/userguide.html"><span class="doc">User Guide</span></a>.</p>
<p>Once the model has been instantiated, the model is updated via the
<a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.update" title="pyDeltaRCM.model.DeltaModel.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update()</span></code></a>. This method coordinates the hydrology, sediment transport,
subsidence, and stratigraphic operation that must occur during each
timestep. The <a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.update" title="pyDeltaRCM.model.DeltaModel.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update()</span></code></a> should be called iteratively, to “run” the
model.</p>
<p>Finally, after all <code class="docutils literal notranslate"><span class="pre">update</span></code> steps are complete, the model should be
finalized (<a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.finalize" title="pyDeltaRCM.model.DeltaModel.finalize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">finalize()</span></code></a>), such that files and data are appropriately
closed and written to disk.</p>
<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>input_file=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an instance of the pyDeltaRCM model.</p>
<p>This method handles setting up the run, including parsing input files,
initializing arrays, and initializing output routines.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>input_file</strong> (<cite>str</cite>, <cite>os.PathLike</cite>, optional) – User model run configuration file.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>For more information regarding input configuration files, see the
<a class="reference internal" href="../guides/userguide.html"><span class="doc">User Guide</span></a>.</p>
</dd></dl>

<p class="rubric">Methods</p>
<table class="longtable docutils align-center">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.__init__" title="pyDeltaRCM.model.DeltaModel.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>([input_file])</p></td>
<td><p>Creates an instance of the pyDeltaRCM model.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.apply_subsidence" title="pyDeltaRCM.model.DeltaModel.apply_subsidence"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_subsidence</span></code></a>()</p></td>
<td><p>Apply subsidence pattern.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.build_weight_array" title="pyDeltaRCM.model.DeltaModel.build_weight_array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_weight_array</span></code></a>(array[, fix_edges, normalize])</p></td>
<td><p>Weighting array of neighbors.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_for_boundary</span></code>(inds)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_size_of_indices_matrix</span></code>(it)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.create_domain" title="pyDeltaRCM.model.DeltaModel.create_domain"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_domain</span></code></a>()</p></td>
<td><p>Creates the model domain</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.create_other_variables" title="pyDeltaRCM.model.DeltaModel.create_other_variables"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_other_variables</span></code></a>()</p></td>
<td><p>Model implementation variables.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.deposit" title="pyDeltaRCM.model.DeltaModel.deposit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">deposit</span></code></a>(Vp_dep, px, py)</p></td>
<td><p>Deposit sand or mud.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.determine_random_seed" title="pyDeltaRCM.model.DeltaModel.determine_random_seed"><code class="xref py py-obj docutils literal notranslate"><span class="pre">determine_random_seed</span></code></a>()</p></td>
<td><p>Set the random seed if given.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.erode" title="pyDeltaRCM.model.DeltaModel.erode"><code class="xref py py-obj docutils literal notranslate"><span class="pre">erode</span></code></a>(Vp_ero, px, py)</p></td>
<td><p>Erode sand or mud.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.expand_stratigraphy" title="pyDeltaRCM.model.DeltaModel.expand_stratigraphy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">expand_stratigraphy</span></code></a>()</p></td>
<td><p>Expand stratigraphy array sizes.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.finalize" title="pyDeltaRCM.model.DeltaModel.finalize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">finalize</span></code></a>()</p></td>
<td><p>Finalize the model run.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.finalize_timestep" title="pyDeltaRCM.model.DeltaModel.finalize_timestep"><code class="xref py py-obj docutils literal notranslate"><span class="pre">finalize_timestep</span></code></a>()</p></td>
<td><p>Finalize timestep.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.finalize_water_iteration" title="pyDeltaRCM.model.DeltaModel.finalize_water_iteration"><code class="xref py py-obj docutils literal notranslate"><span class="pre">finalize_water_iteration</span></code></a>(timestep, iteration)</p></td>
<td><p>Finish updating flow fields.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.flooding_correction" title="pyDeltaRCM.model.DeltaModel.flooding_correction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flooding_correction</span></code></a>()</p></td>
<td><p>Flood dry cells along the shore if necessary.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.free_surf" title="pyDeltaRCM.model.DeltaModel.free_surf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_surf</span></code></a>(it)</p></td>
<td><p>Calculate free surface after routing one water parcel.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_new_cell</span></code>(ind)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_water_weight_array</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.get_wet_mask_nh" title="pyDeltaRCM.model.DeltaModel.get_wet_mask_nh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_wet_mask_nh</span></code></a>()</p></td>
<td><p>Get wet mask.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">import_files</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.init_logger" title="pyDeltaRCM.model.DeltaModel.init_logger"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_logger</span></code></a>()</p></td>
<td><p>Initialize a logger.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.init_output_grids" title="pyDeltaRCM.model.DeltaModel.init_output_grids"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_output_grids</span></code></a>()</p></td>
<td><p>Creates a netCDF file to store output grids.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_output_infrastructure</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.init_stratigraphy" title="pyDeltaRCM.model.DeltaModel.init_stratigraphy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_stratigraphy</span></code></a>()</p></td>
<td><p>Creates sparse array to store stratigraphy data.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.init_subsidence" title="pyDeltaRCM.model.DeltaModel.init_subsidence"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_subsidence</span></code></a>()</p></td>
<td><p>Initializes patterns of subsidence if toggle_subsidence is True (default False)</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_water_iteration</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.load_checkpoint" title="pyDeltaRCM.model.DeltaModel.load_checkpoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_checkpoint</span></code></a>()</p></td>
<td><p>Load the checkpoint from the .npz file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.make_figure" title="pyDeltaRCM.model.DeltaModel.make_figure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_figure</span></code></a>(var, timestep)</p></td>
<td><p>Create a figure.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.mud_dep_ero" title="pyDeltaRCM.model.DeltaModel.mud_dep_ero"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mud_dep_ero</span></code></a>(px, py)</p></td>
<td><p>Decide if deposit or erode mud.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.mud_route" title="pyDeltaRCM.model.DeltaModel.mud_route"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mud_route</span></code></a>()</p></td>
<td><p>Route mud parcels.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.output_checkpoint" title="pyDeltaRCM.model.DeltaModel.output_checkpoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">output_checkpoint</span></code></a>()</p></td>
<td><p>Save checkpoint.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.output_data" title="pyDeltaRCM.model.DeltaModel.output_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">output_data</span></code></a>()</p></td>
<td><p>Save grids and figures.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.output_strata" title="pyDeltaRCM.model.DeltaModel.output_strata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">output_strata</span></code></a>()</p></td>
<td><p>Save stratigraphy as sparse matrix to file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.record_stratigraphy" title="pyDeltaRCM.model.DeltaModel.record_stratigraphy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">record_stratigraphy</span></code></a>()</p></td>
<td><p>Save stratigraphy to file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.run_one_timestep" title="pyDeltaRCM.model.DeltaModel.run_one_timestep"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run_one_timestep</span></code></a>()</p></td>
<td><p>Run the timestep once.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">run_water_iteration</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.sand_dep_ero" title="pyDeltaRCM.model.DeltaModel.sand_dep_ero"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sand_dep_ero</span></code></a>(px, py)</p></td>
<td><p>Decide if erode or deposit sand.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.sand_route" title="pyDeltaRCM.model.DeltaModel.sand_route"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sand_route</span></code></a>()</p></td>
<td><p>Route sand parcels; topo diffusion.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.save_figure" title="pyDeltaRCM.model.DeltaModel.save_figure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_figure</span></code></a>(fig, directory, filename_root, …)</p></td>
<td><p>Save a figure.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.save_grids" title="pyDeltaRCM.model.DeltaModel.save_grids"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_grids</span></code></a>(var_name, var, ts)</p></td>
<td><p>Save a grid into an existing netCDF file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.save_the_checkpoint" title="pyDeltaRCM.model.DeltaModel.save_the_checkpoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_the_checkpoint</span></code></a>()</p></td>
<td><p>Save checkpoint files.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.sed_parcel" title="pyDeltaRCM.model.DeltaModel.sed_parcel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sed_parcel</span></code></a>(theta_sed, sed, px, py)</p></td>
<td><p>Route one sediment parcel.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.sed_route" title="pyDeltaRCM.model.DeltaModel.sed_route"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sed_route</span></code></a>()</p></td>
<td><p>Sediment routing main method.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_constants</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.show_attribute" title="pyDeltaRCM.model.DeltaModel.show_attribute"><code class="xref py py-obj docutils literal notranslate"><span class="pre">show_attribute</span></code></a>(attribute, **kwargs)</p></td>
<td><p>Show an attribute over the model domain.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.show_ind" title="pyDeltaRCM.model.DeltaModel.show_ind"><code class="xref py py-obj docutils literal notranslate"><span class="pre">show_ind</span></code></a>(ind, *args, **kwargs)</p></td>
<td><p>Show points within the model domain.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.topo_diffusion" title="pyDeltaRCM.model.DeltaModel.topo_diffusion"><code class="xref py py-obj docutils literal notranslate"><span class="pre">topo_diffusion</span></code></a>()</p></td>
<td><p>Diffuse topography after routing.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.update" title="pyDeltaRCM.model.DeltaModel.update"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code></a>()</p></td>
<td><p>Run the model for one full instance</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_Q</span></code>(dist, current_inds, next_index, …)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.update_flow_field" title="pyDeltaRCM.model.DeltaModel.update_flow_field"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_flow_field</span></code></a>(iteration)</p></td>
<td><p>Update water discharge after one water iteration.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.update_u" title="pyDeltaRCM.model.DeltaModel.update_u"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_u</span></code></a>(px, py)</p></td>
<td><p>Update velocity.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.update_velocity_field" title="pyDeltaRCM.model.DeltaModel.update_velocity_field"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_velocity_field</span></code></a>()</p></td>
<td><p>Update the flow velocity field after one water iteration.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.update_water" title="pyDeltaRCM.model.DeltaModel.update_water"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_water</span></code></a>(timestep, itr)</p></td>
<td><p>Update surface after routing all parcels.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table class="longtable docutils align-center">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.bed_elevation" title="pyDeltaRCM.model.DeltaModel.bed_elevation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bed_elevation</span></code></a></p></td>
<td><p>Get bed elevation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.bedload_fraction" title="pyDeltaRCM.model.DeltaModel.bedload_fraction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bedload_fraction</span></code></a></p></td>
<td><p>Get bedload fraction.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.channel_flow_depth" title="pyDeltaRCM.model.DeltaModel.channel_flow_depth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">channel_flow_depth</span></code></a></p></td>
<td><p>Get channel flow depth.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.channel_flow_velocity" title="pyDeltaRCM.model.DeltaModel.channel_flow_velocity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">channel_flow_velocity</span></code></a></p></td>
<td><p>Get channel flow velocity.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.channel_width" title="pyDeltaRCM.model.DeltaModel.channel_width"><code class="xref py py-obj docutils literal notranslate"><span class="pre">channel_width</span></code></a></p></td>
<td><p>Get channel width.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.dt" title="pyDeltaRCM.model.DeltaModel.dt"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dt</span></code></a></p></td>
<td><p>The time step.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.influx_sediment_concentration" title="pyDeltaRCM.model.DeltaModel.influx_sediment_concentration"><code class="xref py py-obj docutils literal notranslate"><span class="pre">influx_sediment_concentration</span></code></a></p></td>
<td><p>Get influx sediment concentration.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.save_iter" title="pyDeltaRCM.model.DeltaModel.save_iter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_iter</span></code></a></p></td>
<td><p>Number of times data has been saved.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.save_time_since_checkpoint" title="pyDeltaRCM.model.DeltaModel.save_time_since_checkpoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_time_since_checkpoint</span></code></a></p></td>
<td><p>Time since last data checkpoint was saved.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.save_time_since_last" title="pyDeltaRCM.model.DeltaModel.save_time_since_last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_time_since_last</span></code></a></p></td>
<td><p>Time since data last output.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.sea_surface_elevation" title="pyDeltaRCM.model.DeltaModel.sea_surface_elevation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sea_surface_elevation</span></code></a></p></td>
<td><p>Get stage.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.sea_surface_elevation_change" title="pyDeltaRCM.model.DeltaModel.sea_surface_elevation_change"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sea_surface_elevation_change</span></code></a></p></td>
<td><p>Get rate of change of sea surface elevation, per timestep.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.sea_surface_mean_elevation" title="pyDeltaRCM.model.DeltaModel.sea_surface_mean_elevation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sea_surface_mean_elevation</span></code></a></p></td>
<td><p>Get sea surface mean elevation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.time" title="pyDeltaRCM.model.DeltaModel.time"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time</span></code></a></p></td>
<td><p>Elapsed model time in seconds.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.time_iter" title="pyDeltaRCM.model.DeltaModel.time_iter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_iter</span></code></a></p></td>
<td><p>Number of time iterations.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.time_step" title="pyDeltaRCM.model.DeltaModel.time_step"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_step</span></code></a></p></td>
<td><p>Alias for <cite>dt</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.water_depth" title="pyDeltaRCM.model.DeltaModel.water_depth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">water_depth</span></code></a></p></td>
<td><p>Get depth.</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt>
<code class="descname">__init__</code><span class="sig-paren">(</span><em>input_file=None</em><span class="sig-paren">)</span></dt>
<dd><p>Creates an instance of the pyDeltaRCM model.</p>
<p>This method handles setting up the run, including parsing input files,
initializing arrays, and initializing output routines.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>input_file</strong> (<cite>str</cite>, <cite>os.PathLike</cite>, optional) – User model run configuration file.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>For more information regarding input configuration files, see the
<a class="reference internal" href="../guides/userguide.html"><span class="doc">User Guide</span></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.apply_subsidence">
<code class="descname">apply_subsidence</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.apply_subsidence" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply subsidence pattern.</p>
<p>Apply subsidence to domain if toggle_subsidence is True, and
<code class="xref py py-obj docutils literal notranslate"><span class="pre">time</span></code> is <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>
:<code class="xref py py-obj docutils literal notranslate"><span class="pre">start_subsidence</span></code>. Note, that the
:configuration of the <code class="xref py py-obj docutils literal notranslate"><span class="pre">update()</span></code> method
:determines that the subsidence may be applied before the model time
:is incremented, such that subsidence will begin on the step
:<em>following</em> the time step that brings the model to <code class="docutils literal notranslate"><span class="pre">time</span> <span class="pre">==</span>
<span class="pre">:start_subsidence</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyDeltaRCM.model.DeltaModel.bed_elevation">
<code class="descname">bed_elevation</code><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.bed_elevation" title="Permalink to this definition">¶</a></dt>
<dd><p>Get bed elevation.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyDeltaRCM.model.DeltaModel.bedload_fraction">
<code class="descname">bedload_fraction</code><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.bedload_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Get bedload fraction.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.build_weight_array">
<code class="descname">build_weight_array</code><span class="sig-paren">(</span><em>array</em>, <em>fix_edges=False</em>, <em>normalize=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.build_weight_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Weighting array of neighbors.</p>
<p>Create np.array((8,L,W)) of quantity a
in each of the neighbors to a cell</p>
</dd></dl>

<dl class="attribute">
<dt id="pyDeltaRCM.model.DeltaModel.channel_flow_depth">
<code class="descname">channel_flow_depth</code><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.channel_flow_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Get channel flow depth.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyDeltaRCM.model.DeltaModel.channel_flow_velocity">
<code class="descname">channel_flow_velocity</code><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.channel_flow_velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Get channel flow velocity.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyDeltaRCM.model.DeltaModel.channel_width">
<code class="descname">channel_width</code><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.channel_width" title="Permalink to this definition">¶</a></dt>
<dd><p>Get channel width.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.create_domain">
<code class="descname">create_domain</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.create_domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the model domain</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.create_other_variables">
<code class="descname">create_other_variables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.create_other_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Model implementation variables.</p>
<p>Creates variables for model implementation, from specified boundary
condition variables. This method is run during initial model
instantition, but it is also run any time an inlet flow condition
variable is changed, including <cite>channel_flow_velocity</cite>,
<cite>channel_width</cite>, <cite>channel_flow_depth</cite>, and
<cite>influx_sediment_concentration</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.deposit">
<code class="descname">deposit</code><span class="sig-paren">(</span><em>Vp_dep</em>, <em>px</em>, <em>py</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.deposit" title="Permalink to this definition">¶</a></dt>
<dd><p>Deposit sand or mud.</p>
<p>Deposit sediment volume <cite>Vp_dep</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Vp_dep</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Volume of sediment.</p></li>
<li><p><strong>px</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – Index.</p></li>
<li><p><strong>py</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – Index.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.determine_random_seed">
<code class="descname">determine_random_seed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.determine_random_seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the random seed if given.</p>
<p>If a random seed is specified, set the seed to this value.</p>
<p>Writes the seed to the log for record.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyDeltaRCM.model.DeltaModel.dt">
<code class="descname">dt</code><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.dt" title="Permalink to this definition">¶</a></dt>
<dd><p>The time step.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>UserWarning</strong> – If a very small timestep is configured.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.erode">
<code class="descname">erode</code><span class="sig-paren">(</span><em>Vp_ero</em>, <em>px</em>, <em>py</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.erode" title="Permalink to this definition">¶</a></dt>
<dd><p>Erode sand or mud.</p>
<p>Total sediment mass is preserved but individual categories
of sand and mud are not.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.expand_stratigraphy">
<code class="descname">expand_stratigraphy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.expand_stratigraphy" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand stratigraphy array sizes.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.finalize">
<code class="descname">finalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Finalize the model run.</p>
<p>Finalization includes saving output stratigraphy, closing relevant
files on disk and clearing variables.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.finalize_timestep">
<code class="descname">finalize_timestep</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.finalize_timestep" title="Permalink to this definition">¶</a></dt>
<dd><p>Finalize timestep.</p>
<p>Clean up after sediment routing. This includes a correction for
flooded cells that are not “wet” (via <a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.flooding_correction" title="pyDeltaRCM.model.DeltaModel.flooding_correction"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flooding_correction()</span></code></a>).</p>
<p>Update sea level if baselevel changes between timesteps.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.finalize_water_iteration">
<code class="descname">finalize_water_iteration</code><span class="sig-paren">(</span><em>timestep</em>, <em>iteration</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.finalize_water_iteration" title="Permalink to this definition">¶</a></dt>
<dd><p>Finish updating flow fields.</p>
<p>Clean up at end of water iteration</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.flooding_correction">
<code class="descname">flooding_correction</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.flooding_correction" title="Permalink to this definition">¶</a></dt>
<dd><p>Flood dry cells along the shore if necessary.</p>
<p>Check the neighbors of all dry cells. If any dry cells have wet
neighbors, check that their stage is not higher than the bed elevation
of the center cell.
If it is, flood the dry cell.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.free_surf">
<code class="descname">free_surf</code><span class="sig-paren">(</span><em>it</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.free_surf" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate free surface after routing one water parcel.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.get_wet_mask_nh">
<code class="descname">get_wet_mask_nh</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.get_wet_mask_nh" title="Permalink to this definition">¶</a></dt>
<dd><p>Get wet mask.</p>
<p>Returns np.array((8,L,W)), for each neighbor around a cell
with 1 if the neighbor is wet and 0 if dry</p>
</dd></dl>

<dl class="attribute">
<dt id="pyDeltaRCM.model.DeltaModel.influx_sediment_concentration">
<code class="descname">influx_sediment_concentration</code><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.influx_sediment_concentration" title="Permalink to this definition">¶</a></dt>
<dd><p>Get influx sediment concentration.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.init_logger">
<code class="descname">init_logger</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.init_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a logger.
The logger is initialized regardless of the value of <code class="docutils literal notranslate"><span class="pre">self.verbose</span></code>.
The level of information printed to the log depends on the verbosity
setting.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.init_output_grids">
<code class="descname">init_output_grids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.init_output_grids" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a netCDF file to store output grids.</p>
<p>Fills with default variables.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Overwrites an existing netcdf file with the same name.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.init_stratigraphy">
<code class="descname">init_stratigraphy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.init_stratigraphy" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates sparse array to store stratigraphy data.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.init_subsidence">
<code class="descname">init_subsidence</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.init_subsidence" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes patterns of subsidence if
toggle_subsidence is True (default False)</p>
<p>Modify the equations for self.subsidence_mask and self.sigma as desired</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.load_checkpoint">
<code class="descname">load_checkpoint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.load_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the checkpoint from the .npz file.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.make_figure">
<code class="descname">make_figure</code><span class="sig-paren">(</span><em>var</em>, <em>timestep</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.make_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a figure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>var</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – Which variable to plot into the figure. Specified as a string and
looked up via <cite>getattr</cite>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – The created figure object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.figure</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.mud_dep_ero">
<code class="descname">mud_dep_ero</code><span class="sig-paren">(</span><em>px</em>, <em>py</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.mud_dep_ero" title="Permalink to this definition">¶</a></dt>
<dd><p>Decide if deposit or erode mud.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.mud_route">
<code class="descname">mud_route</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.mud_route" title="Permalink to this definition">¶</a></dt>
<dd><p>Route mud parcels.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.output_checkpoint">
<code class="descname">output_checkpoint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.output_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Save checkpoint.</p>
<p>Save checkpoint data (including rng state) so that the model can be
resumed from this time.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.output_data">
<code class="descname">output_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.output_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Save grids and figures.</p>
<p>Save grids and/or plots of specified variables (<code class="docutils literal notranslate"><span class="pre">eta</span></code>, <cite>discharge`</cite>,
<code class="docutils literal notranslate"><span class="pre">velocity</span></code>, <code class="docutils literal notranslate"><span class="pre">depth</span></code>, and <code class="docutils literal notranslate"><span class="pre">stage</span></code>, depending on configuration of
the relevant flags in the YAML configuration file.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.output_strata">
<code class="descname">output_strata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.output_strata" title="Permalink to this definition">¶</a></dt>
<dd><p>Save stratigraphy as sparse matrix to file.</p>
<p>Saves the stratigraphy (sand fraction) sparse matrices into output
netcdf file.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.record_stratigraphy">
<code class="descname">record_stratigraphy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.record_stratigraphy" title="Permalink to this definition">¶</a></dt>
<dd><p>Save stratigraphy to file.</p>
<p>Saves the sand fraction of deposited sediment into a sparse array
created by <code class="xref py py-obj docutils literal notranslate"><span class="pre">init_stratigraphy()</span></code>.</p>
<p>Only runs if <code class="xref py py-obj docutils literal notranslate"><span class="pre">save_strata</span></code> is True.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This routine needs a complete description of the algorithm,
additionally, it should be ported to a routine in DeltaMetrics,
probably the new and preferred method of computing and storing
straitgraphy cubes.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.run_one_timestep">
<code class="descname">run_one_timestep</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.run_one_timestep" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the timestep once.</p>
<p>The first operation called by <a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.update" title="pyDeltaRCM.model.DeltaModel.update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update()</span></code></a>, this method iterates the
water surface calculation and sediment parcel routing routines.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Will print the current time to stdout, if <code class="docutils literal notranslate"><span class="pre">verbose</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> – If model has already been finalized via <a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.finalize" title="pyDeltaRCM.model.DeltaModel.finalize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">finalize()</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.sand_dep_ero">
<code class="descname">sand_dep_ero</code><span class="sig-paren">(</span><em>px</em>, <em>py</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.sand_dep_ero" title="Permalink to this definition">¶</a></dt>
<dd><p>Decide if erode or deposit sand.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.sand_route">
<code class="descname">sand_route</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.sand_route" title="Permalink to this definition">¶</a></dt>
<dd><p>Route sand parcels; topo diffusion.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.save_figure">
<code class="descname">save_figure</code><span class="sig-paren">(</span><em>fig</em>, <em>directory</em>, <em>filename_root</em>, <em>timestep</em>, <em>ext='.png'</em>, <em>close=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.save_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a figure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – The path (and filename without extension) to save the figure to.</p></li>
<li><p><strong>ext</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional) – The file extension (default=’.png’). This must be supported by the
active matplotlib backend (see matplotlib.backends module). Most
backends support ‘.png’, ‘.pdf’, ‘.ps’, ‘.eps’, and ‘.svg’. Be
sure to include the ‘.’ before the extension.</p></li>
<li><p><strong>close</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional) – Whether to close the file after saving.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.save_grids">
<code class="descname">save_grids</code><span class="sig-paren">(</span><em>var_name</em>, <em>var</em>, <em>ts</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.save_grids" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a grid into an existing netCDF file.</p>
<p>File should already be open (by <code class="xref py py-meth docutils literal notranslate"><span class="pre">init_output_grid()</span></code>) as
<code class="docutils literal notranslate"><span class="pre">self.output_netcdf</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var_name</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – The name of the variable to be saved</p></li>
<li><p><strong>var</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code>) – The numpy array to be saved.</p></li>
<li><p><strong>ts</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – The current timestep (+1, so human readable)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="pyDeltaRCM.model.DeltaModel.save_iter">
<code class="descname">save_iter</code><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.save_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of times data has been saved.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.save_the_checkpoint">
<code class="descname">save_the_checkpoint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.save_the_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Save checkpoint files.</p>
<p>Saves the grids to a .npz file so that the model can be
initiated from this point. The timestep of the checkpoint is also
saved. The values from the model that are saved to the checkpoint.npz
are the following:
- Model time
- Flow velocity and its components
- Water depth
- Water stage
- Topography
- Current random seed state
- Stratigraphic ‘topography’ in ‘strata_eta.npz’
- Stratigraphic sand fraction in ‘strata_sand_frac.npz’
If <cite>save_checkpoint</cite> is turned on, checkpoints are re-written
with either a frequency of <cite>checkpoint_dt</cite> or <cite>save_dt</cite> if
<cite>checkpoint_dt</cite> has not been explicitly defined.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyDeltaRCM.model.DeltaModel.save_time_since_checkpoint">
<code class="descname">save_time_since_checkpoint</code><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.save_time_since_checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Time since last data checkpoint was saved.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyDeltaRCM.model.DeltaModel.save_time_since_last">
<code class="descname">save_time_since_last</code><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.save_time_since_last" title="Permalink to this definition">¶</a></dt>
<dd><p>Time since data last output.</p>
<p>The number of times the <a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.update" title="pyDeltaRCM.model.DeltaModel.update"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code></a> method has been called.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyDeltaRCM.model.DeltaModel.sea_surface_elevation">
<code class="descname">sea_surface_elevation</code><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.sea_surface_elevation" title="Permalink to this definition">¶</a></dt>
<dd><p>Get stage.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyDeltaRCM.model.DeltaModel.sea_surface_elevation_change">
<code class="descname">sea_surface_elevation_change</code><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.sea_surface_elevation_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Get rate of change of sea surface elevation, per timestep.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyDeltaRCM.model.DeltaModel.sea_surface_mean_elevation">
<code class="descname">sea_surface_mean_elevation</code><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.sea_surface_mean_elevation" title="Permalink to this definition">¶</a></dt>
<dd><p>Get sea surface mean elevation.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.sed_parcel">
<code class="descname">sed_parcel</code><span class="sig-paren">(</span><em>theta_sed</em>, <em>sed</em>, <em>px</em>, <em>py</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.sed_parcel" title="Permalink to this definition">¶</a></dt>
<dd><p>Route one sediment parcel.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.sed_route">
<code class="descname">sed_route</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.sed_route" title="Permalink to this definition">¶</a></dt>
<dd><p>Sediment routing main method.</p>
<p>This is the main method for sediment routing in the model. It is
called once per <cite>update()</cite> call.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.show_attribute">
<code class="descname">show_attribute</code><span class="sig-paren">(</span><em>attribute</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.show_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Show an attribute over the model domain.</p>
<p>Show any attribute of the <a class="reference internal" href="#pyDeltaRCM.model.DeltaModel" title="pyDeltaRCM.model.DeltaModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DeltaModel</span></code></a> class
over the model domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attribute</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – Name of the attribute you want to show.</p></li>
<li><p><strong>ax</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.Axes</span></code> object, optional) – Which axes to render attribute into. Uses <code class="docutils literal notranslate"><span class="pre">gca()</span></code> if no axis is
provided.</p></li>
<li><p><strong>grid</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional) – Whether to plot a grid over the domain to demarcate individual
cells. Default is <cite>True</cite> (show the grid).</p></li>
<li><p><strong>block</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional) – Whether to show the plot automatically. Default is <cite>False</cite> (do not
show automatically).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.show_ind">
<code class="descname">show_ind</code><span class="sig-paren">(</span><em>ind</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.show_ind" title="Permalink to this definition">¶</a></dt>
<dd><p>Show points within the model domain.</p>
<p>Show the location of points (indices) within the model domain. Can
show points as tuple <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y)</span></code>, flat index <code class="docutils literal notranslate"><span class="pre">idx</span></code>, list of tuples
<code class="docutils literal notranslate"><span class="pre">[(x1,</span> <span class="pre">y1),</span> <span class="pre">(x2,</span> <span class="pre">y2)]</span></code>, or list of flat indices <code class="docutils literal notranslate"><span class="pre">[idx1,</span> <span class="pre">idx2]</span></code>.
Method takes arbitrary <cite>matplotlib</cite> arguments to <cite>plot</cite> the points as
Matlab-style args (<code class="docutils literal notranslate"><span class="pre">'r*'</span></code>) or keyword arguments (<code class="docutils literal notranslate"><span class="pre">marker='s'</span></code>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ind</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code>, <cite>int</cite>, <cite>list</cite> of <cite>tuple</cite>, <cite>list</cite> of <cite>int</cite>, <cite>list</cite> of <cite>int</cite> and <cite>tuple</cite>) – Index (indices if list), to plot</p></li>
<li><p><strong>ax</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.Axes</span></code> object, optional) – Which axes to render point into. Uses <code class="docutils literal notranslate"><span class="pre">gca()</span></code> if no axis is
provided.</p></li>
<li><p><strong>block</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, optional) – Whether to show the plot automatically. Default is <cite>False</cite> (do not
show automatically).</p></li>
</ul>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>*args</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>, optional) – Matlab-style point specifications, e.g., <code class="docutils literal notranslate"><span class="pre">'r*'</span></code>, <code class="docutils literal notranslate"><span class="pre">'bs'</span></code>.</p></li>
<li><p><strong>**kwargs</strong> (<em>optional</em>) – Any <cite>kwargs</cite> supported by <cite>matplotlib.pyplot.plt</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="pyDeltaRCM.model.DeltaModel.time">
<code class="descname">time</code><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.time" title="Permalink to this definition">¶</a></dt>
<dd><p>Elapsed model time in seconds.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyDeltaRCM.model.DeltaModel.time_iter">
<code class="descname">time_iter</code><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.time_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of time iterations.</p>
<p>The number of times the <a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.update" title="pyDeltaRCM.model.DeltaModel.update"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code></a> method has been called.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyDeltaRCM.model.DeltaModel.time_step">
<code class="descname">time_step</code><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.time_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>dt</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.topo_diffusion">
<code class="descname">topo_diffusion</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.topo_diffusion" title="Permalink to this definition">¶</a></dt>
<dd><p>Diffuse topography after routing.</p>
<p>Diffuse topography after routing all coarse sediment parcels. The
method uses convolution with a kernel to compute smoother topography,
and then adds this different to the current eta to do the smoothing.
The operation is repeated <cite>N_crossdiff</cite> times.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the model for one full instance</p>
<p>Calls, in sequence:</p>
<blockquote>
<div><ul class="simple">
<li><p>the routine to run one timestep (i.e., water surface estimation
and sediment routing, <a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.run_one_timestep" title="pyDeltaRCM.model.DeltaModel.run_one_timestep"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_one_timestep()</span></code></a>)</p></li>
<li><p>the basin subsidence update pattern (<a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.apply_subsidence" title="pyDeltaRCM.model.DeltaModel.apply_subsidence"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply_subsidence()</span></code></a>)</p></li>
<li><p>the timestep finalization routine (<a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.finalize_timestep" title="pyDeltaRCM.model.DeltaModel.finalize_timestep"><code class="xref py py-meth docutils literal notranslate"><span class="pre">finalize_timestep()</span></code></a>)</p></li>
<li><p>straigraphy updating routine (<a class="reference internal" href="#pyDeltaRCM.model.DeltaModel.record_stratigraphy" title="pyDeltaRCM.model.DeltaModel.record_stratigraphy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">record_stratigraphy()</span></code></a>)</p></li>
</ul>
</div></blockquote>
<p>If you attempt to override the <code class="docutils literal notranslate"><span class="pre">update</span></code> routine, you must implement
these operations at a minimum.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.update_flow_field">
<code class="descname">update_flow_field</code><span class="sig-paren">(</span><em>iteration</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.update_flow_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Update water discharge after one water iteration.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.update_u">
<code class="descname">update_u</code><span class="sig-paren">(</span><em>px</em>, <em>py</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.update_u" title="Permalink to this definition">¶</a></dt>
<dd><p>Update velocity.</p>
<p>Update velocities after erosion or deposition.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.update_velocity_field">
<code class="descname">update_velocity_field</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.update_velocity_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the flow velocity field after one water iteration.</p>
</dd></dl>

<dl class="method">
<dt id="pyDeltaRCM.model.DeltaModel.update_water">
<code class="descname">update_water</code><span class="sig-paren">(</span><em>timestep</em>, <em>itr</em><span class="sig-paren">)</span><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.update_water" title="Permalink to this definition">¶</a></dt>
<dd><p>Update surface after routing all parcels.</p>
<p>Could divide into 3 functions for cleanliness.</p>
</dd></dl>

<dl class="attribute">
<dt id="pyDeltaRCM.model.DeltaModel.water_depth">
<code class="descname">water_depth</code><a class="headerlink" href="#pyDeltaRCM.model.DeltaModel.water_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Get depth.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../reference/model/yaml_defaults.html" title="Defaul Model Variable Values"
             >next</a> |</li>
        <li class="right" >
          <a href="../reference/model/index.html" title="model"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyDeltaRCM 1.2.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference/index.html" >API reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../reference/model/index.html" >model</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, The DeltaRCM Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.1.
    </div>
  </body>
</html>